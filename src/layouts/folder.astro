---
import Layout from '@layouts/base.astro'
import Listing from '@components/directory-listing.astro'

const { description, name, links = [], icon } = Astro.props
const title = name === 'pages' ? '' : name.replaceAll('-', ' ') + '/'
const pageTitle = `Index of /${title}`

const frontmatter = { page_title: pageTitle, description }
---

<Layout frontmatter={frontmatter}>
  <link
    rel="icon"
    href={`data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${icon}</text></svg>`}
  />
  <Listing folder={name} links={links} />
</Layout>

<style is:inline>
  body {
    -moz-osx-font-smoothing: unset;
    -webkit-font-smoothing: unset;
  }
</style>
